08-Dec-2025 05:12:35.589 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.1.20
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 19 2024 12:49:58 UTC
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.1.20.0
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            15.6
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64
08-Dec-2025 05:12:35.591 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
08-Dec-2025 05:12:35.592 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.1+12-LTS-29
08-Dec-2025 05:12:35.592 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
08-Dec-2025 05:12:35.592 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:12:35.592 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/conf/logging.properties
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:12:35.599 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/temp
08-Dec-2025 05:12:35.605 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/vladislavkapustian/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
08-Dec-2025 05:12:35.749 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8081"]
08-Dec-2025 05:12:35.765 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [256] milliseconds
08-Dec-2025 05:12:35.784 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
08-Dec-2025 05:12:35.784 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.1.20]
08-Dec-2025 05:12:35.796 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war]
08-Dec-2025 05:12:36.885 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer
08-Dec-2025 05:12:36.897 INFO [main] org.jboss.weld.bootstrap.WeldStartup.<clinit> WELD-000900: 4.0.3 (Final)
08-Dec-2025 05:12:36.963 INFO [main] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery
08-Dec-2025 05:12:37.066 INFO [main] org.jboss.weld.bootstrap.WeldStartup.startContainer WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
08-Dec-2025 05:12:37.204 INFO [main] org.jboss.weld.environment.tomcat.TomcatContainer.initialize WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.
08-Dec-2025 05:12:37.344 INFO [main] org.jboss.weld.environment.servlet.Listener.contextInitialized WELD-ENV-001006: org.jboss.weld.environment.servlet.EnhancedListener used to initialize Weld
08-Dec-2025 05:12:37.359 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 3.0.2 for context '/kursach'
08-Dec-2025 05:12:37.421 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.
08-Dec-2025 05:12:37.700 INFO [main] com.sun.faces.config.ConfigureListener$WebConfigResourceMonitor$Monitor.<init> Monitoring file:/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach/WEB-INF/faces-config.xml for modifications
08-Dec-2025 05:12:37.730 INFO [main] org.primefaces.webapp.PostConstructApplicationEventListener.processEvent Running on PrimeFaces 12.0.0
08-Dec-2025 05:12:37.730 INFO [main] org.kursach.kursach.config.SecurityConfig.contextInitialized Инициализация интеграции JSF с CDI
08-Dec-2025 05:12:37.730 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:12:37.730 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized Подсистема работы с ценными бумагами запущена
08-Dec-2025 05:12:37.731 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:12:37.731 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.contextInitialized WELD-ENV-001009: org.jboss.weld.environment.servlet.Listener used for ServletRequest and HttpSession notifications
08-Dec-2025 05:12:37.749 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war] has finished in [1,953] ms
08-Dec-2025 05:12:37.750 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs]
08-Dec-2025 05:12:37.759 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs] has finished in [9] ms
08-Dec-2025 05:12:37.759 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager]
08-Dec-2025 05:12:37.773 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager] has finished in [14] ms
08-Dec-2025 05:12:37.773 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples]
08-Dec-2025 05:12:37.845 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples] has finished in [72] ms
08-Dec-2025 05:12:37.845 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT]
08-Dec-2025 05:12:37.852 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT] has finished in [7] ms
08-Dec-2025 05:12:37.853 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager]
08-Dec-2025 05:12:37.861 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager] has finished in [8] ms
08-Dec-2025 05:12:37.862 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8081"]
08-Dec-2025 05:12:37.872 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2106] milliseconds
08-Dec-2025 05:12:55.202 INFO [http-nio-8081-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/
08-Dec-2025 05:12:55.203 INFO [http-nio-8081-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:12:55.204 INFO [http-nio-8081-exec-1] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: C6C9C7CFEC5B6ACD2B0262331EA27013
08-Dec-2025 05:12:55.206 INFO [http-nio-8081-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:12:57.747 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.
08-Dec-2025 05:12:57.747 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler ["http-nio-8081"]
08-Dec-2025 05:12:57.750 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]
08-Dec-2025 05:12:57.758 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: C6C9C7CFEC5B6ACD2B0262331EA27013
08-Dec-2025 05:12:57.759 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:12:57.759 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed Подсистема работы с ценными бумагами остановлена
08-Dec-2025 05:12:57.759 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:12:57.766 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler ["http-nio-8081"]
08-Dec-2025 05:12:57.776 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler ["http-nio-8081"]
08-Dec-2025 05:13:06.480 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.1.20
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 19 2024 12:49:58 UTC
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.1.20.0
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            15.6
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.1+12-LTS-29
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:13:06.482 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/conf/logging.properties
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
08-Dec-2025 05:13:06.488 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
08-Dec-2025 05:13:06.489 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:13:06.489 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:13:06.489 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/temp
08-Dec-2025 05:13:06.494 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/vladislavkapustian/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
08-Dec-2025 05:13:06.645 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:13:06.662 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [273] milliseconds
08-Dec-2025 05:13:06.680 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
08-Dec-2025 05:13:06.680 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.1.20]
08-Dec-2025 05:13:06.690 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war]
08-Dec-2025 05:13:07.808 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer
08-Dec-2025 05:13:07.821 INFO [main] org.jboss.weld.bootstrap.WeldStartup.<clinit> WELD-000900: 4.0.3 (Final)
08-Dec-2025 05:13:07.892 INFO [main] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery
08-Dec-2025 05:13:08.003 INFO [main] org.jboss.weld.bootstrap.WeldStartup.startContainer WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
08-Dec-2025 05:13:08.151 INFO [main] org.jboss.weld.environment.tomcat.TomcatContainer.initialize WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.
08-Dec-2025 05:13:08.304 INFO [main] org.jboss.weld.environment.servlet.Listener.contextInitialized WELD-ENV-001006: org.jboss.weld.environment.servlet.EnhancedListener used to initialize Weld
08-Dec-2025 05:13:08.320 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 3.0.2 for context '/kursach'
08-Dec-2025 05:13:08.377 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.
08-Dec-2025 05:13:08.665 INFO [main] com.sun.faces.config.ConfigureListener$WebConfigResourceMonitor$Monitor.<init> Monitoring file:/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach/WEB-INF/faces-config.xml for modifications
08-Dec-2025 05:13:08.695 INFO [main] org.primefaces.webapp.PostConstructApplicationEventListener.processEvent Running on PrimeFaces 12.0.0
08-Dec-2025 05:13:08.696 INFO [main] org.kursach.kursach.config.SecurityConfig.contextInitialized Инициализация интеграции JSF с CDI
08-Dec-2025 05:13:08.696 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:13:08.696 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized Подсистема работы с ценными бумагами запущена
08-Dec-2025 05:13:08.696 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:13:08.696 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.contextInitialized WELD-ENV-001009: org.jboss.weld.environment.servlet.Listener used for ServletRequest and HttpSession notifications
08-Dec-2025 05:13:08.728 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war] has finished in [2,037] ms
08-Dec-2025 05:13:08.728 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs]
08-Dec-2025 05:13:08.739 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs] has finished in [11] ms
08-Dec-2025 05:13:08.739 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager]
08-Dec-2025 05:13:08.755 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager] has finished in [15] ms
08-Dec-2025 05:13:08.755 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples]
08-Dec-2025 05:13:08.827 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples] has finished in [72] ms
08-Dec-2025 05:13:08.827 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT]
08-Dec-2025 05:13:08.834 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT] has finished in [6] ms
08-Dec-2025 05:13:08.834 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager]
08-Dec-2025 05:13:08.842 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager] has finished in [8] ms
08-Dec-2025 05:13:08.844 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:13:08.856 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2193] milliseconds
08-Dec-2025 05:13:23.820 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:40:59.817 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/
08-Dec-2025 05:40:59.817 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:40:59.819 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: 5B219C07D4CBBE682387E4099AFCFF26
08-Dec-2025 05:40:59.825 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:40:59.828 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:40:59.863 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:40:59.864 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:40:59.864 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:40:59.864 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:40:59.864 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:40:59.864 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:40:59.874 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:40:59.880 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:40:59.884 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.205 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/
08-Dec-2025 05:41:00.206 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.208 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.219 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.221 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.226 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.230 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.547 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/
08-Dec-2025 05:41:00.547 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.549 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.559 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:00.561 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.566 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:00.570 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:11.892 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:11.948 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:11.948 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:41:11.949 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: A1C9E1E99BA9B24B257EE94EBCC8ECC4
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: A9C785EB3A424A1FBED371526C26071B
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: 6D7BD737E997250160D4A29BD7D6705C
08-Dec-2025 05:41:11.951 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:11.952 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:41:11.958 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:11.963 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:11.967 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:41:13.813 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/index.xhtml
08-Dec-2025 05:41:14.071 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:14.071 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:14.071 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:41:14.071 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:14.072 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:41:14.072 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:41:14.195 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:41:14.196 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:41:14.220 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:41:18.472 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/index.xhtml
08-Dec-2025 05:41:18.523 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:18.523 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:41:18.523 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:18.524 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:18.524 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:41:18.525 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:41:18.526 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:41:18.530 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:41:18.564 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:41:22.471 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:22.471 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:22.471 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:48.984 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/index.xhtml
08-Dec-2025 05:41:49.167 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:41:49.167 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:41:49.167 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:41:49.168 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:41:49.168 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:41:49.169 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:41:49.173 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:41:49.174 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:41:49.324 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:42:05.290 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:42:05.412 INFO [http-nio-8080-exec-3] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: curriculumPU]
08-Dec-2025 05:42:05.460 INFO [http-nio-8080-exec-3] org.hibernate.Version.logVersion HHH000412: Hibernate ORM core version 6.0.2.Final
08-Dec-2025 05:42:05.560 WARN [http-nio-8080-exec-3] org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.normalizeTransactionCoordinator HHH000193: Overriding hibernate.transaction.coordinator_class is dangerous, this might break the EJB3 specification implementation
08-Dec-2025 05:42:05.574 INFO [http-nio-8080-exec-3] org.hibernate.resource.beans.spi.ManagedBeanRegistryInitiator.resolveBeanContainer HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
08-Dec-2025 05:42:05.683 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using built-in connection pool (not intended for production use)
08-Dec-2025 05:42:05.684 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
08-Dec-2025 05:42:05.684 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/kursach_vlad]
08-Dec-2025 05:42:05.684 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {password=****, handling_mode=DELAYED_ACQUISITION_AND_RELEASE_AFTER_TRANSACTION, user=project_role}
08-Dec-2025 05:42:05.685 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false
08-Dec-2025 05:42:05.687 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.<init> HHH10001115: Connection pool size: 20 (min=1)
08-Dec-2025 05:42:05.774 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.logSelectedDialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
08-Dec-2025 05:42:06.391 INFO [http-nio-8080-exec-3] org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1c5247ae] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
08-Dec-2025 05:42:06.458 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler.logWarning SQL Warning Code: 0, SQLState: 00000
08-Dec-2025 05:42:06.458 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler.logWarning constraint "uk_iso03272hvt0inxhpajw49swq" of relation "investment_account" does not exist, skipping
08-Dec-2025 05:42:06.460 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler.logWarning SQL Warning Code: 0, SQLState: 00000
08-Dec-2025 05:42:06.460 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper$StandardWarningHandler.logWarning constraint "uk_3sj7g0thy02s2emtab7pyrymu" of relation "security" does not exist, skipping
08-Dec-2025 05:42:06.920 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:42:06.921 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:42:06.921 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:42:06.921 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:42:06.921 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:42:06.921 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:42:06.925 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:42:06.926 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:42:06.927 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:42:07.157 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:43:50.174 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.
08-Dec-2025 05:43:50.174 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:43:50.176 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]
08-Dec-2025 05:43:50.185 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: A1C9E1E99BA9B24B257EE94EBCC8ECC4
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: A9C785EB3A424A1FBED371526C26071B
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: 6D7BD737E997250160D4A29BD7D6705C
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Пользователь teacher вышел из системы (сессия закрыта)
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: 5B219C07D4CBBE682387E4099AFCFF26
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed Подсистема работы с ценными бумагами остановлена
08-Dec-2025 05:43:50.190 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:43:50.192 INFO [main] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState.stop HHH10001008: Cleaning up connection pool [jdbc:postgresql://localhost:5432/kursach_vlad]
08-Dec-2025 05:43:50.195 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [kursach] registered the JDBC driver [org.postgresql.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.
08-Dec-2025 05:43:50.198 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:43:50.201 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:43:59.088 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.1.20
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 19 2024 12:49:58 UTC
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.1.20.0
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            15.6
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64
08-Dec-2025 05:43:59.090 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
08-Dec-2025 05:43:59.091 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.1+12-LTS-29
08-Dec-2025 05:43:59.091 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
08-Dec-2025 05:43:59.091 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:43:59.091 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/conf/logging.properties
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:43:59.098 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/temp
08-Dec-2025 05:43:59.104 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/vladislavkapustian/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
08-Dec-2025 05:43:59.251 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:43:59.267 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [260] milliseconds
08-Dec-2025 05:43:59.286 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
08-Dec-2025 05:43:59.286 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.1.20]
08-Dec-2025 05:43:59.297 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war]
08-Dec-2025 05:44:00.388 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer
08-Dec-2025 05:44:00.400 INFO [main] org.jboss.weld.bootstrap.WeldStartup.<clinit> WELD-000900: 4.0.3 (Final)
08-Dec-2025 05:44:00.466 INFO [main] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery
08-Dec-2025 05:44:00.566 INFO [main] org.jboss.weld.bootstrap.WeldStartup.startContainer WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
08-Dec-2025 05:44:00.706 INFO [main] org.jboss.weld.environment.tomcat.TomcatContainer.initialize WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.
08-Dec-2025 05:44:00.847 INFO [main] org.jboss.weld.environment.servlet.Listener.contextInitialized WELD-ENV-001006: org.jboss.weld.environment.servlet.EnhancedListener used to initialize Weld
08-Dec-2025 05:44:00.864 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 3.0.2 for context '/kursach'
08-Dec-2025 05:44:00.920 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.
08-Dec-2025 05:44:01.201 INFO [main] com.sun.faces.config.ConfigureListener$WebConfigResourceMonitor$Monitor.<init> Monitoring file:/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach/WEB-INF/faces-config.xml for modifications
08-Dec-2025 05:44:01.230 INFO [main] org.primefaces.webapp.PostConstructApplicationEventListener.processEvent Running on PrimeFaces 12.0.0
08-Dec-2025 05:44:01.230 INFO [main] org.kursach.kursach.config.SecurityConfig.contextInitialized Инициализация интеграции JSF с CDI
08-Dec-2025 05:44:01.231 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:44:01.231 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized Подсистема работы с ценными бумагами запущена
08-Dec-2025 05:44:01.231 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:44:01.231 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.contextInitialized WELD-ENV-001009: org.jboss.weld.environment.servlet.Listener used for ServletRequest and HttpSession notifications
08-Dec-2025 05:44:01.254 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war] has finished in [1,957] ms
08-Dec-2025 05:44:01.255 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs]
08-Dec-2025 05:44:01.264 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs] has finished in [9] ms
08-Dec-2025 05:44:01.264 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager]
08-Dec-2025 05:44:01.278 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager] has finished in [13] ms
08-Dec-2025 05:44:01.278 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples]
08-Dec-2025 05:44:01.346 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples] has finished in [68] ms
08-Dec-2025 05:44:01.346 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT]
08-Dec-2025 05:44:01.353 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT] has finished in [7] ms
08-Dec-2025 05:44:01.353 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager]
08-Dec-2025 05:44:01.361 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager] has finished in [8] ms
08-Dec-2025 05:44:01.363 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:44:01.369 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2101] milliseconds
08-Dec-2025 05:45:34.732 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.
08-Dec-2025 05:45:34.733 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:45:34.736 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]
08-Dec-2025 05:45:34.742 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:45:34.742 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed Подсистема работы с ценными бумагами остановлена
08-Dec-2025 05:45:34.743 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:45:34.757 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:45:34.761 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:50:43.104 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.1.20
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 19 2024 12:49:58 UTC
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.1.20.0
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            15.6
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64
08-Dec-2025 05:50:43.106 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
08-Dec-2025 05:50:43.107 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.1+12-LTS-29
08-Dec-2025 05:50:43.107 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
08-Dec-2025 05:50:43.107 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:50:43.107 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/conf/logging.properties
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
08-Dec-2025 05:50:43.114 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:50:43.115 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:50:43.115 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/temp
08-Dec-2025 05:50:43.121 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/vladislavkapustian/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
08-Dec-2025 05:50:43.291 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:50:43.308 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [294] milliseconds
08-Dec-2025 05:50:43.330 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
08-Dec-2025 05:50:43.330 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.1.20]
08-Dec-2025 05:50:43.343 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war]
08-Dec-2025 05:50:44.500 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer
08-Dec-2025 05:50:44.513 INFO [main] org.jboss.weld.bootstrap.WeldStartup.<clinit> WELD-000900: 4.0.3 (Final)
08-Dec-2025 05:50:44.588 INFO [main] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery
08-Dec-2025 05:50:44.708 INFO [main] org.jboss.weld.bootstrap.WeldStartup.startContainer WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
08-Dec-2025 05:50:44.860 INFO [main] org.jboss.weld.environment.tomcat.TomcatContainer.initialize WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.
08-Dec-2025 05:50:45.026 INFO [main] org.jboss.weld.environment.servlet.Listener.contextInitialized WELD-ENV-001006: org.jboss.weld.environment.servlet.EnhancedListener used to initialize Weld
08-Dec-2025 05:50:45.044 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 3.0.2 for context '/kursach'
08-Dec-2025 05:50:45.114 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.
08-Dec-2025 05:50:45.397 INFO [main] com.sun.faces.config.ConfigureListener$WebConfigResourceMonitor$Monitor.<init> Monitoring file:/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach/WEB-INF/faces-config.xml for modifications
08-Dec-2025 05:50:45.429 INFO [main] org.primefaces.webapp.PostConstructApplicationEventListener.processEvent Running on PrimeFaces 12.0.0
08-Dec-2025 05:50:45.430 INFO [main] org.kursach.kursach.config.SecurityConfig.contextInitialized Инициализация интеграции JSF с CDI
08-Dec-2025 05:50:45.430 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:50:45.430 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized Подсистема работы с ценными бумагами запущена
08-Dec-2025 05:50:45.430 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:50:45.430 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.contextInitialized WELD-ENV-001009: org.jboss.weld.environment.servlet.Listener used for ServletRequest and HttpSession notifications
08-Dec-2025 05:50:45.455 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war] has finished in [2,112] ms
08-Dec-2025 05:50:45.456 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs]
08-Dec-2025 05:50:45.467 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs] has finished in [11] ms
08-Dec-2025 05:50:45.467 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager]
08-Dec-2025 05:50:45.480 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager] has finished in [13] ms
08-Dec-2025 05:50:45.480 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples]
08-Dec-2025 05:50:45.565 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples] has finished in [85] ms
08-Dec-2025 05:50:45.565 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT]
08-Dec-2025 05:50:45.572 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT] has finished in [7] ms
08-Dec-2025 05:50:45.572 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager]
08-Dec-2025 05:50:45.581 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager] has finished in [9] ms
08-Dec-2025 05:50:45.583 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:50:45.590 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2281] milliseconds
08-Dec-2025 05:50:45.599 SEVERE [main] org.apache.catalina.core.StandardServer.await Failed to create server shutdown socket on address [localhost] and port [8005] (base port [8005] and offset [0])
	java.net.BindException: Address already in use
		at java.base/sun.nio.ch.Net.bind0(Native Method)
		at java.base/sun.nio.ch.Net.bind(Net.java:565)
		at java.base/sun.nio.ch.Net.bind(Net.java:554)
		at java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:636)
		at java.base/java.net.ServerSocket.bind(ServerSocket.java:391)
		at java.base/java.net.ServerSocket.<init>(ServerSocket.java:278)
		at org.apache.catalina.core.StandardServer.await(StandardServer.java:577)
		at org.apache.catalina.startup.Catalina.await(Catalina.java:847)
		at org.apache.catalina.startup.Catalina.start(Catalina.java:795)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)
		at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)
08-Dec-2025 05:50:45.599 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:50:45.606 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]
08-Dec-2025 05:50:45.613 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:50:45.613 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed Подсистема работы с ценными бумагами остановлена
08-Dec-2025 05:50:45.613 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 05:50:45.628 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:50:45.636 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:52:32.638 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.1.20
08-Dec-2025 05:52:32.640 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Mar 19 2024 12:49:58 UTC
08-Dec-2025 05:52:32.640 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.1.20.0
08-Dec-2025 05:52:32.640 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X
08-Dec-2025 05:52:32.640 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            15.6
08-Dec-2025 05:52:32.640 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64
08-Dec-2025 05:52:32.641 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home
08-Dec-2025 05:52:32.641 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           21.0.1+12-LTS-29
08-Dec-2025 05:52:32.641 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation
08-Dec-2025 05:52:32.641 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:52:32.641 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:52:32.646 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/conf/logging.properties
08-Dec-2025 05:52:32.646 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager
08-Dec-2025 05:52:32.646 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048
08-Dec-2025 05:52:32.646 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10
08-Dec-2025 05:52:32.647 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/temp
08-Dec-2025 05:52:32.652 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/vladislavkapustian/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
08-Dec-2025 05:52:32.796 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:52:32.813 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [252] milliseconds
08-Dec-2025 05:52:32.832 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
08-Dec-2025 05:52:32.832 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.1.20]
08-Dec-2025 05:52:32.843 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war]
08-Dec-2025 05:52:33.920 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer
08-Dec-2025 05:52:33.931 INFO [main] org.jboss.weld.bootstrap.WeldStartup.<clinit> WELD-000900: 4.0.3 (Final)
08-Dec-2025 05:52:34.001 INFO [main] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery
08-Dec-2025 05:52:34.101 INFO [main] org.jboss.weld.bootstrap.WeldStartup.startContainer WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
08-Dec-2025 05:52:34.234 INFO [main] org.jboss.weld.environment.tomcat.TomcatContainer.initialize WELD-ENV-001100: Tomcat 7+ detected, CDI injection will be available in Servlets, Filters and Listeners.
08-Dec-2025 05:52:34.368 INFO [main] org.jboss.weld.environment.servlet.Listener.contextInitialized WELD-ENV-001006: org.jboss.weld.environment.servlet.EnhancedListener used to initialize Weld
08-Dec-2025 05:52:34.382 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 3.0.2 for context '/kursach'
08-Dec-2025 05:52:34.441 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.
08-Dec-2025 05:52:34.720 INFO [main] com.sun.faces.config.ConfigureListener$WebConfigResourceMonitor$Monitor.<init> Monitoring file:/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach/WEB-INF/faces-config.xml for modifications
08-Dec-2025 05:52:34.747 INFO [main] org.primefaces.webapp.PostConstructApplicationEventListener.processEvent Running on PrimeFaces 12.0.0
08-Dec-2025 05:52:34.748 INFO [main] org.kursach.kursach.config.SecurityConfig.contextInitialized Инициализация интеграции JSF с CDI
08-Dec-2025 05:52:34.748 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:52:34.748 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized Подсистема работы с ценными бумагами запущена
08-Dec-2025 05:52:34.748 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextInitialized ============================================
08-Dec-2025 05:52:34.748 INFO [main] org.jboss.weld.environment.servlet.EnhancedListener.contextInitialized WELD-ENV-001009: org.jboss.weld.environment.servlet.Listener used for ServletRequest and HttpSession notifications
08-Dec-2025 05:52:34.766 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/kursach.war] has finished in [1,923] ms
08-Dec-2025 05:52:34.772 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs]
08-Dec-2025 05:52:34.781 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/docs] has finished in [9] ms
08-Dec-2025 05:52:34.781 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager]
08-Dec-2025 05:52:34.793 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/manager] has finished in [12] ms
08-Dec-2025 05:52:34.793 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples]
08-Dec-2025 05:52:34.864 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/examples] has finished in [71] ms
08-Dec-2025 05:52:34.864 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT]
08-Dec-2025 05:52:34.870 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/ROOT] has finished in [6] ms
08-Dec-2025 05:52:34.870 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager]
08-Dec-2025 05:52:34.878 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [/Users/vladislavkapustian/Documents/FRONT/kursa/kursach_vlad/apache-tomcat-10/webapps/host-manager] has finished in [8] ms
08-Dec-2025 05:52:34.879 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
08-Dec-2025 05:52:34.885 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [2071] milliseconds
08-Dec-2025 05:52:51.960 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:52:51.962 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Сессия отсутствует, создаем новую
08-Dec-2025 05:52:51.964 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.SessionListener.sessionCreated Сессия создана: 8C8D8BC4DF58661B0BE5EF150018F280
08-Dec-2025 05:52:51.967 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:52:51.994 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:52:52.288 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:52:52.288 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:52:52.288 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:52:52.288 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:52:52.289 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:52:52.289 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Пользователь не авторизован, перенаправление на страницу входа
08-Dec-2025 05:52:52.429 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:52:52.437 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:52:52.442 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/login.xhtml
08-Dec-2025 05:52:53.919 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/index.xhtml
08-Dec-2025 05:52:54.166 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:52:54.166 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:52:54.167 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:52:54.167 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:52:54.167 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:52:54.167 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:52:54.298 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:52:54.298 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:52:54.340 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:52:56.221 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:52:56.320 INFO [http-nio-8080-exec-10] org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation HHH000204: Processing PersistenceUnitInfo [name: curriculumPU]
08-Dec-2025 05:52:56.361 INFO [http-nio-8080-exec-10] org.hibernate.Version.logVersion HHH000412: Hibernate ORM core version 6.0.2.Final
08-Dec-2025 05:52:56.462 WARN [http-nio-8080-exec-10] org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.normalizeTransactionCoordinator HHH000193: Overriding hibernate.transaction.coordinator_class is dangerous, this might break the EJB3 specification implementation
08-Dec-2025 05:52:56.474 INFO [http-nio-8080-exec-10] org.hibernate.resource.beans.spi.ManagedBeanRegistryInitiator.resolveBeanContainer HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
08-Dec-2025 05:52:56.580 WARN [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure HHH10001002: Using built-in connection pool (not intended for production use)
08-Dec-2025 05:52:56.582 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
08-Dec-2025 05:52:56.582 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/kursach_vlad]
08-Dec-2025 05:52:56.582 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001001: Connection properties: {password=****, handling_mode=DELAYED_ACQUISITION_AND_RELEASE_AFTER_TRANSACTION, user=project_role}
08-Dec-2025 05:52:56.582 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator HHH10001003: Autocommit mode: false
08-Dec-2025 05:52:56.585 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.<init> HHH10001115: Connection pool size: 20 (min=1)
08-Dec-2025 05:52:56.666 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.logSelectedDialect HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
08-Dec-2025 05:52:57.242 INFO [http-nio-8080-exec-10] org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6b4a5ee7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
08-Dec-2025 05:52:57.861 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:52:57.861 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:52:57.861 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:52:57.862 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:52:57.862 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:52:57.862 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:52:57.867 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:52:57.868 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:52:57.989 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:52:58.037 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:07.377 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer-edit.xhtml
08-Dec-2025 05:53:07.601 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:07.602 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:07.602 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:07.602 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:07.602 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:07.602 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:07.731 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:07.733 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:07.774 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:29.917 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer-edit.xhtml
08-Dec-2025 05:53:29.991 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:53:30.168 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:30.169 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:30.169 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:30.169 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:30.169 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:30.169 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:30.173 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:30.173 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:30.175 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:53:30.192 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:34.863 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:53:34.918 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer-edit.xhtml
08-Dec-2025 05:53:35.107 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:35.108 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:35.108 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:35.108 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:35.109 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:35.109 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:35.112 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:35.120 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:35.152 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:43.282 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer-edit.xhtml
08-Dec-2025 05:53:43.318 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/issuer.xhtml
08-Dec-2025 05:53:43.504 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:43.504 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:43.508 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:43.508 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:43.508 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:43.508 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:43.514 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:43.514 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:53:43.514 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:43.675 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:45.205 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/security.xhtml
08-Dec-2025 05:53:45.421 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:45.421 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:45.421 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:45.422 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:45.422 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:45.423 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:45.425 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:45.425 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:45.426 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:53:45.579 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:53:53.458 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/security-edit.xhtml
08-Dec-2025 05:53:53.685 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:53:53.687 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:53:53.687 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:53:53.687 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:53:53.687 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:53:53.687 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:53:53.810 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:53:53.811 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:53:53.811 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:53:53.811 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:53:53.811 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:53:53.811 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:53:53.856 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:54:39.286 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/security-edit.xhtml
08-Dec-2025 05:54:39.338 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/security.xhtml
08-Dec-2025 05:54:39.535 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:54:39.535 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:54:39.536 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:54:39.536 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:54:39.536 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:54:39.536 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:54:39.541 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:54:39.541 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:54:39.542 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:54:39.695 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:54:51.834 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:54:52.037 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:54:52.159 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:54:52.159 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:54:52.161 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:54:52.180 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:07.373 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:15.790 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:15.820 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account-edit.xhtml
08-Dec-2025 05:55:16.016 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:16.018 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:16.018 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:55:16.018 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:16.018 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:16.018 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:16.022 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:16.023 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:16.023 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:16.024 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:55:16.025 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:55:16.027 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:55:16.077 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:23.982 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account-edit.xhtml
08-Dec-2025 05:55:23.998 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:24.183 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:24.183 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:24.184 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:24.184 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:24.187 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:24.188 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:24.192 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:24.193 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:24.193 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:55:24.351 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:25.505 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:25.545 WARN [http-nio-8080-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:25.546 ERROR [http-nio-8080-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:25.547 INFO [http-nio-8080-exec-4] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:25.552 WARNING [http-nio-8080-exec-4] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:25.556 SEVERE [http-nio-8080-exec-4] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:27.471 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:27.483 WARN [http-nio-8080-exec-9] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:27.484 ERROR [http-nio-8080-exec-9] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:27.484 INFO [http-nio-8080-exec-9] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:27.485 WARNING [http-nio-8080-exec-9] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:27.486 SEVERE [http-nio-8080-exec-9] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:28.213 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:28.226 WARN [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:28.226 ERROR [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:28.226 INFO [http-nio-8080-exec-2] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:28.228 WARNING [http-nio-8080-exec-2] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:28.229 SEVERE [http-nio-8080-exec-2] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:28.566 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:28.574 WARN [http-nio-8080-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:28.574 ERROR [http-nio-8080-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:28.574 INFO [http-nio-8080-exec-5] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:28.575 WARNING [http-nio-8080-exec-5] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:28.576 SEVERE [http-nio-8080-exec-5] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:28.868 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:28.879 WARN [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:28.879 ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:28.879 INFO [http-nio-8080-exec-7] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:28.880 WARNING [http-nio-8080-exec-7] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:28.881 SEVERE [http-nio-8080-exec-7] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:29.100 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:29.109 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:29.109 ERROR [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:29.109 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:29.110 WARNING [http-nio-8080-exec-3] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:29.110 SEVERE [http-nio-8080-exec-3] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:29.303 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:29.317 WARN [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:29.317 ERROR [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:29.317 INFO [http-nio-8080-exec-1] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:29.318 WARNING [http-nio-8080-exec-1] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:29.319 SEVERE [http-nio-8080-exec-1] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:29.481 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:29.488 WARN [http-nio-8080-exec-10] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:29.488 ERROR [http-nio-8080-exec-10] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:29.489 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:29.493 WARNING [http-nio-8080-exec-10] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:29.494 SEVERE [http-nio-8080-exec-10] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:29.671 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:29.685 WARN [http-nio-8080-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:29.685 ERROR [http-nio-8080-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:29.685 INFO [http-nio-8080-exec-8] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:29.687 WARNING [http-nio-8080-exec-8] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:29.688 SEVERE [http-nio-8080-exec-8] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:29.850 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:29.861 WARN [http-nio-8080-exec-6] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:29.861 ERROR [http-nio-8080-exec-6] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:29.861 INFO [http-nio-8080-exec-6] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:29.862 WARNING [http-nio-8080-exec-6] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:29.862 SEVERE [http-nio-8080-exec-6] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.036 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:30.046 WARN [http-nio-8080-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:30.046 ERROR [http-nio-8080-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:30.047 INFO [http-nio-8080-exec-4] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:30.048 WARNING [http-nio-8080-exec-4] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:30.049 SEVERE [http-nio-8080-exec-4] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.216 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:30.221 WARN [http-nio-8080-exec-9] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:30.221 ERROR [http-nio-8080-exec-9] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:30.222 INFO [http-nio-8080-exec-9] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:30.222 WARNING [http-nio-8080-exec-9] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:30.223 SEVERE [http-nio-8080-exec-9] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.416 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:30.428 WARN [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:30.429 ERROR [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:30.429 INFO [http-nio-8080-exec-2] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:30.430 WARNING [http-nio-8080-exec-2] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:30.431 SEVERE [http-nio-8080-exec-2] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.637 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:30.647 WARN [http-nio-8080-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:30.647 ERROR [http-nio-8080-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:30.647 INFO [http-nio-8080-exec-5] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:30.648 WARNING [http-nio-8080-exec-5] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:30.649 SEVERE [http-nio-8080-exec-5] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.815 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:30.822 WARN [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:30.822 ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:30.823 INFO [http-nio-8080-exec-7] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:30.823 WARNING [http-nio-8080-exec-7] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:30.824 SEVERE [http-nio-8080-exec-7] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:30.999 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:31.009 WARN [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:31.009 ERROR [http-nio-8080-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:31.009 INFO [http-nio-8080-exec-3] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:31.010 WARNING [http-nio-8080-exec-3] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:31.010 SEVERE [http-nio-8080-exec-3] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:31.185 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:31.192 WARN [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:31.192 ERROR [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:31.193 INFO [http-nio-8080-exec-1] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:31.193 WARNING [http-nio-8080-exec-1] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:31.194 SEVERE [http-nio-8080-exec-1] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:31.349 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:31.362 WARN [http-nio-8080-exec-10] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:31.362 ERROR [http-nio-8080-exec-10] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:31.362 INFO [http-nio-8080-exec-10] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:31.365 WARNING [http-nio-8080-exec-10] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:31.366 SEVERE [http-nio-8080-exec-10] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:31.529 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:31.591 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:31.591 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:31.591 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:31.591 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:31.592 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:31.592 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:31.599 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:31.599 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:31.599 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:55:31.640 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:32.320 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:32.329 WARN [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions SQL Error: 0, SQLState: 23503
08-Dec-2025 05:55:32.329 ERROR [http-nio-8080-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
08-Dec-2025 05:55:32.330 INFO [http-nio-8080-exec-2] org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.release HHH000010: On release of batch it still contained JDBC statements
08-Dec-2025 05:55:32.330 WARNING [http-nio-8080-exec-2] com.sun.faces.lifecycle.InvokeApplicationPhase.execute #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	jakarta.faces.FacesException: #{investmentAccountController.delete(account.id)}: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:88)
		at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
		at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
		at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
		at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
		at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
		at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
		at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
		at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
		at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
		at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
		at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
		at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
		at java.base/java.lang.Thread.run(Thread.java:1583)
	Caused by: jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
		at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
		... 35 more
	Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
		at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
		at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
		at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
		at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
		at java.base/java.lang.reflect.Method.invoke(Method.java:580)
		at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
		at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
		at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
		at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
		at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
		at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
		... 36 more
	Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
		at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
		... 49 more
	Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
		at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
		at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
		... 51 more
	Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
		at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
		at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
		at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
		at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
		at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
		at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
		at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
		at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
		at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
		at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
		at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
		at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
		at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
		at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
		at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
		at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
		at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
		at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
		at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
		... 50 more
	Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
		at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
		at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
		at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
		at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
		at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
		at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
		at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
		at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
		... 69 more
08-Dec-2025 05:55:32.331 SEVERE [http-nio-8080-exec-2] com.sun.faces.context.AjaxExceptionHandlerImpl.handlePartialResponseError jakarta.faces.el.EvaluationException: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:77)
	at com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:75)
	at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:64)
	at jakarta.faces.component.UICommand.broadcast(UICommand.java:213)
	at jakarta.faces.component.UIData.broadcast(UIData.java:1068)
	at jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:852)
	at jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1329)
	at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)
	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)
	at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)
	at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:681)
	at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.kursach.kursach.security.AuthenticationFilter.doFilter(AuthenticationFilter.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:175)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:150)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.RuntimeException: Ошибка при удалении инвестиционного счёта
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:103)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:11)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl$Proxy$_$$_WeldClientProxy.delete(Unknown Source)
	at org.kursach.kursach.service.InvestmentAccountService.deleteAccount(InvestmentAccountService.java:40)
	at org.kursach.kursach.service.InvestmentAccountService$Proxy$_$$_WeldClientProxy.deleteAccount(Unknown Source)
	at org.kursach.kursach.controller.InvestmentAccountController.delete(InvestmentAccountController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.el.parser.AstValue.invoke(AstValue.java:253)
	at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)
	at org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)
	at org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)
	at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)
	at com.sun.faces.application.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:67)
	... 36 more
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:83)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.kursach.kursach.repository.InvestmentAccountRepositoryImpl.delete(InvestmentAccountRepositoryImpl.java:97)
	... 49 more
Caused by: jakarta.persistence.PersistenceException: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	... 51 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3697)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:4031)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:126)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1420)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:474)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2232)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1928)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 50 more
Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table "investment_account" violates foreign key constraint "fk7m0rrp96n1v0debbgkh9ieg3f" on table "trade_transaction"
  Detail: Key (id)=(1) is still referenced from table "trade_transaction".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 69 more

08-Dec-2025 05:55:32.814 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/account.xhtml
08-Dec-2025 05:55:32.870 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:32.871 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:32.871 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:32.871 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:32.871 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:32.871 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:32.876 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:32.876 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:55:32.876 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:32.973 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:35.359 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction.xhtml
08-Dec-2025 05:55:35.571 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:35.572 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:35.572 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:35.572 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:35.573 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:35.574 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:35.575 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:35.580 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:35.581 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:55:35.581 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:55:35.581 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:55:35.738 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:55:45.632 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:55:45.851 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:55:45.852 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:55:45.852 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:55:45.853 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:55:45.853 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:55:45.853 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:55:45.875 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:55:45.899 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:56:02.435 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:56:02.484 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction.xhtml
08-Dec-2025 05:56:02.689 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:56:02.690 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:56:02.690 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:56:02.690 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:56:02.690 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:56:02.691 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:56:02.695 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:56:02.695 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:56:02.695 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:56:02.696 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:56:02.698 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/touch/touchswipe.js.xhtml
08-Dec-2025 05:56:02.862 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:56:04.449 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction.xhtml
08-Dec-2025 05:56:10.947 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction.xhtml
08-Dec-2025 05:56:10.966 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:56:11.156 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:56:11.156 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:56:11.161 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:56:11.161 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:56:11.161 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:56:11.161 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:56:11.165 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:56:11.165 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:56:11.165 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:56:11.166 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:56:11.167 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:56:11.172 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:56:11.209 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:59:56.425 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:59:56.492 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:59:56.494 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:59:56.495 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:59:56.495 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:59:56.495 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:59:56.498 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:59:56.503 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:59:56.504 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:59:56.504 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:59:56.505 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:59:56.507 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:59:56.541 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:59:56.578 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:59:56.945 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:59:57.023 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:59:57.031 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:59:57.033 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:59:57.034 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:59:57.034 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:59:57.043 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:59:57.044 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:59:57.063 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 05:59:57.197 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/transaction-edit.xhtml
08-Dec-2025 05:59:57.373 INFO [http-nio-8080-exec-2] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/theme.css.xhtml
08-Dec-2025 05:59:57.374 INFO [http-nio-8080-exec-6] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.css.xhtml
08-Dec-2025 05:59:57.374 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery.js.xhtml
08-Dec-2025 05:59:57.374 INFO [http-nio-8080-exec-8] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/style.css.xhtml
08-Dec-2025 05:59:57.374 INFO [http-nio-8080-exec-4] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.css.xhtml
08-Dec-2025 05:59:57.374 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/jquery/jquery-plugins.js.xhtml
08-Dec-2025 05:59:57.401 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputmask/inputmask.js.xhtml
08-Dec-2025 05:59:57.401 INFO [http-nio-8080-exec-3] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.css.xhtml
08-Dec-2025 05:59:57.402 INFO [http-nio-8080-exec-1] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/datepicker/datepicker.js.xhtml
08-Dec-2025 05:59:57.402 INFO [http-nio-8080-exec-9] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/inputnumber/inputnumber.js.xhtml
08-Dec-2025 05:59:57.402 INFO [http-nio-8080-exec-10] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/core.js.xhtml
08-Dec-2025 05:59:57.403 INFO [http-nio-8080-exec-5] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/components.js.xhtml
08-Dec-2025 05:59:57.479 INFO [http-nio-8080-exec-7] org.kursach.kursach.security.AuthenticationFilter.doFilter Обработка запроса: /kursach/jakarta.faces.resource/primeicons/primeicons.woff2.xhtml
08-Dec-2025 06:02:34.943 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.
08-Dec-2025 06:02:34.943 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler ["http-nio-8080"]
08-Dec-2025 06:02:34.944 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]
08-Dec-2025 06:02:34.953 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Сессия уничтожена: 8C8D8BC4DF58661B0BE5EF150018F280
08-Dec-2025 06:02:34.953 INFO [main] org.kursach.kursach.security.SessionListener.sessionDestroyed Пользователь teacher вышел из системы (сессия закрыта)
08-Dec-2025 06:02:34.958 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 06:02:34.958 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed Подсистема работы с ценными бумагами остановлена
08-Dec-2025 06:02:34.958 INFO [main] org.kursach.kursach.config.AppLifecycleListener.contextDestroyed ============================================
08-Dec-2025 06:02:34.960 INFO [main] org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState.stop HHH10001008: Cleaning up connection pool [jdbc:postgresql://localhost:5432/kursach_vlad]
08-Dec-2025 06:02:34.962 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [kursach] registered the JDBC driver [org.postgresql.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.
08-Dec-2025 06:02:34.966 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler ["http-nio-8080"]
08-Dec-2025 06:02:34.971 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler ["http-nio-8080"]
